/*
*	(C)2009-2015 VeryIDE
*	http://www.veryide.com/
*	Mo.js 核心框架
*	$Id: mo.js 2015/10/22 Lay $
*/
(function(win,doc){var Mo=function(selector,context){return new Mo.init(selector,context)};Mo.version="1.4";Mo.build=20151022;Mo.store=new Object();Mo.plugin=[];Mo.time=new Date().getTime();Mo.start=function(){var tags=document.getElementsByTagName("script");var path=tags[tags.length-1].getAttribute("src",2);var base=path?path.substring(0,path.lastIndexOf("/")+1):null;Mo.base=base;Mo.Browser={msie:false,opera:false,safari:false,chrome:false,firefox:false};var nav=navigator;var uat=nav.userAgent;var reg="";switch(nav.appName){case"Microsoft Internet Explorer":Mo.Browser.name="ie";Mo.Browser.msie=true;reg=/^.+MSIE (\d+\.\d+);.+$/;break;default:if(uat.indexOf("Chrome")!=-1){Mo.Browser.name="chrome";Mo.Browser.chrome=true;reg=/^.+Chrome\/([\d.]+?)([\s].*)$/ig}else{if(uat.indexOf("Safari")!=-1){Mo.Browser.name="safari";Mo.Browser.safari=true;reg=/^.+Version\/([\d\.]+?) (Mobile.)?Safari.+$/}else{if(uat.indexOf("Opera")!=-1){Mo.Browser.name="opera";Mo.Browser.opera=true;reg=/^.{0,}Opera\/(.+?) \(.+$/}else{Mo.Browser.name="firefox";Mo.Browser.firefox=true;reg=/^.+Firefox\/([\d\.]+).{0,}$/}}}break}Mo.Browser.version=uat.replace(reg,"$1");Mo.Browser.lang=(!Mo.Browser.msie?nav.language:nav.browserLanguage).toLowerCase();Mo.Browser.mobile=/(iPhone|iPad|iPod|Android)/i.test(uat);Mo.document=(document.compatMode&&document.compatMode!="BackCompat"&&!uat.toLowerCase().indexOf("webkit")>-1)?document.documentElement:document.body;if(typeof HTMLElement!=="undefined"&&!("outerHTML" in HTMLElement.prototype)){HTMLElement.prototype.__defineGetter__("outerHTML",function(){var a=this.attributes,str="<"+this.tagName,i=0;for(;i<a.length;i++){if(a[i].specified){str+=" "+a[i].name+'="'+a[i].value+'"'}}if(!this.canHaveChildren){return str+" />"}return str+">"+this.innerHTML+"</"+this.tagName+">"});HTMLElement.prototype.__defineSetter__("outerHTML",function(s){var r=this.ownerDocument.createRange();r.setStartBefore(this);var df=r.createContextualFragment(s);this.parentNode.replaceChild(df,this);return s});HTMLElement.prototype.__defineGetter__("canHaveChildren",function(){return !/^(area|base|basefont|col|frame|hr|img|br|input|isindex|link|meta|param)$/.test(this.tagName.toLowerCase())})}if(window.Node){Node.prototype.replaceNode=function(Node){this.parentNode.replaceChild(Node,this)};Node.prototype.removeNode=function(Children){if(Children){return this.parentNode.removeChild(this)}else{var range=document.createRange();range.selectNodeContents(this);return this.parentNode.replaceChild(range.extractContents(),this)}};Node.prototype.swapNode=function(Node){var base=this.parentNode;var next=this.nextSibling;var replaced=Node.parentNode.replaceChild(this,Node);if(replaced==next){base.insertBefore(next,this)}else{if(next){base.insertBefore(replaced,next)}else{base.appendChild(replaced)}}return this}}};Mo.start();Mo.$=function(id){return document.getElementById(id)};Mo.ready=function(func){if(Mo.Browser.msie){var rnd=Mo.random(10);if(!Mo.store.dri){Mo.store.dri=[]}Mo.store.dri[rnd]=setInterval(function(){try{document.documentElement.doScroll("left");clearInterval(Mo.store.dri[rnd]);Mo.store.dri[rnd]=null;func(new Date().getTime()-Mo.time)}catch(ex){}},1)}else{document.addEventListener("DOMContentLoaded",function(){func(new Date().getTime()-Mo.time)},false)}};Mo.reader=function(func){Mo(window).bind("load",function(){func(new Date().getTime()-Mo.time)})};Mo.resize=function(func){Mo(window).bind("resize",func)};Mo.date=function(format,datetime){var str=format;var now=datetime?(Mo.Validate.Number(datetime)?new Date(parseInt(datetime)*1000):datetime):new Date();var y=now.getFullYear(),m=now.getMonth()+1,d=now.getDate(),h=now.getHours(),i=now.getMinutes(),s=now.getSeconds();str=str.replace("yy",y.toString().substr(y.toString().length-2));str=str.replace("y",y);str=str.replace("mm",("0"+m).substr(m.toString().length-1));str=str.replace("m",m);str=str.replace("dd",("0"+d).substr(d.toString().length-1));str=str.replace("d",d);str=str.replace("hh",("0"+h).substr(h.toString().length-1));str=str.replace("h",h);str=str.replace("ii",("0"+i).substr(i.toString().length-1));str=str.replace("i",i);str=str.replace("ss",("0"+s).substr(s.toString().length-1));str=str.replace("s",s);return str};Mo.random=function(length,upper,lower,number){if(!upper&&!lower&&!number){upper=lower=number=true}var a=[["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],["0","1","2","3","4","5","6","7","8","9"]];var b=[];var c="";b=upper?b.concat(a[0]):b;b=lower?b.concat(a[1]):b;b=number?b.concat(a[2]):b;for(var i=0;i<length;i++){c+=b[Math.round(Math.random()*(b.length-1))]}return c};Mo.between=function(min,max){return Math.round(min+(Math.random()*(max-min)))};Mo.write=function(){for(var i=0;i<arguments.length;i++){document.write(arguments[i])}};Mo.url=function(url){var a=document.createElement("a");a.href=url;return{source:url,protocol:a.protocol.replace(":",""),host:a.hostname,port:a.port,query:a.search,params:(function(){var ret={},seg=a.search.replace(/^\?/,"").split("&"),len=seg.length,i=0,s;for(;i<len;i++){if(!seg[i]){continue}s=seg[i].split("=");ret[s[0]]=s[1]}return ret})(),file:(a.pathname.match(/\/([^\/?#]+)$/i)||[,""])[1],hash:a.hash.replace("#",""),path:a.pathname.replace(/^([^\/])/,"/$1"),relative:(a.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:a.pathname.replace(/^\//,"").split("/")}};Mo.Cookie={get:function(key){var tmp=document.cookie.match((new RegExp(key+"=[a-zA-Z0-9.()=|%/]+($|;)","g")));if(!tmp||!tmp[0]){return null}else{return unescape(tmp[0].substring(key.length+1,tmp[0].length).replace(";",""))||null}},set:function(key,value,ttl,path,domain,secure){var cookie=[key+"="+escape(value),"path="+((!path||path=="")?"/":path),"domain="+((!domain||domain=="")?window.location.hostname:domain)];if(ttl){cookie.push(Mo.Cookie.hoursToExpireDate(ttl))}if(secure){cookie.push("secure")}return document.cookie=cookie.join("; ")},unset:function(key,path,domain){path=(!path||typeof path!="string")?"":path;domain=(!domain||typeof domain!="string")?"":domain;if(Mo.Cookie.get(key)){Mo.Cookie.set(key,"","Thu, 01-Jan-70 00:00:01 GMT",path,domain)}},hoursToExpireDate:function(ttl){if(parseInt(ttl)=="NaN"){return""}else{var now=new Date();now.setTime(now.getTime()+(parseInt(ttl)*60*60*1000));return now.toGMTString()}},dump:function(){if(typeof console!="undefined"){console.log(document.cookie.split(";"))}},clear:function(){var keys=document.cookie.match(/[^ =;]+(?=\=)/g);if(keys){for(var i=keys.length;i--;){Mo.Cookie.unset(keys[i])}}}};Mo.get=function(key,url){var url=url?url:location.href;var v="";var o=url.indexOf(key+"=");if(o!=-1){o+=key.length+1;e=url.indexOf("&",o);if(e==-1){e=url.length}v=url.substring(o,e)}return v};Mo.script=function(src,attr,func,target){if(typeof func!="function"){var func=function(){}}if(src.indexOf(".")==-1){if(Mo.Array(Mo.plugin).indexOf(src)>-1){func&&func();return}else{src=Mo.base+"mo."+src+".js"}}var target=target?target:document.getElementsByTagName("head")[0];attr=attr?attr:{};attr["type"]="text/javascript";attr["src"]=src;var script=Mo.create("script",attr);target.appendChild(script);script.onreadystatechange=script.onload=function(){if((!this.readyState||this.readyState=="loaded"||this.readyState=="complete")&&!this.executed){this.executed=true;func&&func(this)}}};Mo.json=function(src,attr,func){if(typeof func!="function"){var func=function(){}}var c="cross"+parseInt(Math.random()*1000);var head=document.getElementsByTagName("head")[0];if(attr.autocall!=false){src=src.substr(0,src.length-1)+c}attr=attr?attr:{};attr["type"]="text/javascript";attr["src"]=src;var script=Mo(head).create("script",attr,true);window[c]=window[c]||function(data){func(data);window[c]=undefined;try{delete window[c]}catch(e){}script.remove()}};Mo.Template=function(ele,data){Mo.Template.cache=Mo.Template.cache||{};var tmpl=function(ele,data){var fn=!/\W/.test(ele)?Mo.Template.cache[ele]=Mo.Template.cache[ele]||tmpl(document.getElementById(ele).innerHTML):new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};"+"with(obj){p.push('"+ele.replace(/[\r\t\n]/g," ").replace(/'(?=[^%]*%>)/g,"\t").split("'").join("\\'").split("\t").join("'").replace(/<%=(.+?)%>/g,"',$1,'").split("<%").join("');").split("%>").join("p.push('")+"');}return p.join('');");return data?fn(data):fn};return tmpl(ele,data)};Mo.Toolkit={slice:([]).slice,is:function(o){return({}).toString.call(o).slice(8,-1)},isOnDom:function(node){if(!node||!node.nodeType||node.nodeType!==1){return}var body=document.body;while(node.parentNode){if(node===body){return true}node=node.parentNode}return false},contains:function(a,b){try{return a.contains?a!=b&&a.contains(b):!!(a.compareDocumentPosition(b))}catch(e){}},getViewportSize:function(){var value={width:0,height:0};undefined!==window.innerWidth?value={width:window.innerWidth,height:window.innerHeight}:value={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};return value},getClinetRect:function(f){var d=f.getBoundingClientRect(),e=(e={left:d.left,right:d.right,top:d.top,bottom:d.bottom,height:(d.height||(d.bottom-d.top)),width:(d.width||(d.right-d.left))});return e},getScrollPosition:function(){var position={left:0,top:0};if(window.pageYOffset){position={left:window.pageXOffset,top:window.pageYOffset}}else{if(typeof document.documentElement.scrollTop!="undefined"&&document.documentElement.scrollTop>0){position={left:document.documentElement.scrollLeft,top:document.documentElement.scrollTop}}else{if(typeof document.body.scrollTop!="undefined"){position={left:document.body.scrollLeft,top:document.body.scrollTop}}}}return position},getUrlBasic:function(subdir){var tags=document.getElementsByTagName("script");var path=tags[tags.length-1].getAttribute("src");var base=path?path.substring(0,path.lastIndexOf("/")-(subdir?subdir.length:0)):null;return base}};Mo.Array=function(source){var inti=function(source){this.self=source;return this};inti.prototype={output:function(){return this.self},first:function(){return this.self[0]},last:function(){return this.self[this.self.length-1]},max:function(){return Math.max.apply(null,this.self)},min:function(){return Math.min.apply(null,this.self)},sum:function(){for(var i=0,sum=0;i<this.self.length;sum+=isNaN(parseInt(this.self[i]))?0:parseInt(this.self[i]),i++){}return sum},clear:function(){this.self=[];return this},indexOf:function(value){var l=this.self.length;for(var i=0;i<=l;i++){if(this.self[i]==value){return i}}return -1}};return new inti(source)};Mo.String=function(source){var inti=function(source){this.self=String(source||"");return this};inti.prototype={output:function(){return this.self},pad:function(l,s,t){var str=this.self.toString();return s||(s=" "),(l-=str.length)>0?(s=new Array(Math.ceil(l/s.length)+1).join(s)).substr(0,t=!t?l:t==1?0:Math.ceil(l/2))+str+s.substr(0,l-t):str},length:function(){return String(this.self).replace(/[^\x00-\xff]/g,"ci").length},trim:function(){this.self=this.self.replace(/(^\s*)|(\s*$)/g,"");return this},leftTrim:function(){this.self=this.self.replace(/(^\s*)/g,"");return this},rightTrim:function(){this.self=this.self.replace(/(\s*$)/g,"");return this},stripScript:function(){this.self=this.self.replace(/<script.*?>.*?<\/script>/ig,"");return this},stripTags:function(allowed){allowed=(((allowed||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var tags=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,commentsAndPhpTags=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;this.self=this.self.replace(commentsAndPhpTags,"").replace(tags,function($0,$1){return allowed.indexOf("<"+$1.toLowerCase()+">")>-1?$0:""});return this},stripTags:function(){this.self=String(this.self).replace(/<[^>]+>/g,"");return this},unicode:function(){if(this.self){var result="";for(var i=0;i<this.self.length;i++){result+="&#"+this.self.charCodeAt(i)+";"}this.self=result}return this},ascii:function(){if(this.self){var code=this.self.match(/&#(\d+);/g);if(code!=null){var result="";for(var i=0;i<code.length;i++){result+=String.fromCharCode(code[i].replace(/[&#;]/g,""))}this.self=result}}return this},format:function(){var param=[];for(var i=0,l=arguments.length;i<l;i++){param.push(arguments[i])}this.self=this.self.replace(/\{(\d+)\}/g,function(m,n){return param[n]});return this},encodeHTML:function(){return this.self.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},decodeHTML:function(){var b=this.self.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&");return b.replace(/&#([\d]+);/g,function(d,c){return String.fromCharCode(parseInt(c,10))})},escapeSymbol:function(){return String(this.self).replace(/\%/g,"%25").replace(/&/g,"%26").replace(/\+/g,"%2B").replace(/\ /g,"%20").replace(/\//g,"%2F").replace(/\#/g,"%23").replace(/\=/g,"%3D")},toCamelCase:function(){var a=this.self;if(a.indexOf("-")<0&&a.indexOf("_")<0){return a}return a.replace(/[-_][^-_]/g,function(b){return b.charAt(1).toUpperCase()})},eval:function(){return(new Function("return ("+this.self.replace(/\r/gm,"").replace(/\n/gm,"\\n")+");"))()}};return new inti(source)};Mo.Number=function(source){var inti=function(source){this.self=String(source||"");return this};inti.prototype={test:function(){alert("");return},comma:function(d){var c=this.self;if(!d||d<1){d=3}c=String(c).split(".");c[0]=c[0].replace(new RegExp("(\\d)(?=(\\d{"+d+"})+$)","ig"),"$1,");return c.join(".")},isNumber:function(num){return/^[0-9]{1,20}$/.exec(num)}};return new inti(source)};Mo.Function=function(func){var inti=function(func){this.self=func||new Function();return this};inti.prototype={execute:function(time){if(time){window.setTimeout(this.self,time)}else{this.self()}}};return new inti(func)};Mo.Date=function(date){var inti=function(date){this.self=(Mo.Validate.Number(date)?new Date(parseInt(date)*1000):date)||new Date();return this};inti.prototype={leapyear:function(){var year=this.self.getFullYear();return(0==year%4&&((year%100!=0)||(year%400==0)))},days:function(){return(new Date(this.self.getFullYear(),this.self.getMonth()+1,0)).getDate()},time:function(){return Math.round(this.self.getTime()/1000)}};return new inti(date)};Mo.Event=function(event){var inti=function(event){this.self=event||window.event;return this};inti.prototype={stop:function(type){if(!this.self){return}if(Mo.Browser.msie){type!==2&&(window.event.cancelBubble=true);type!==1&&(window.event.returnValue=false)}else{type!==2&&this.self.stopPropagation();type!==1&&this.self.preventDefault()}return this},element:function(){if(!this.self){return}if(Mo.Browser.msie){return window.event.srcElement}else{return this.self.currentTarget}},target:function(){if(!this.self){return}if(Mo.Browser.msie){return window.event.srcElement}else{return this.self.target}},mouse:function(){if(!this.self){return}if(Mo.Browser.msie){var x=this.self.x+Mo.document.scrollLeft;var y=this.self.y+Mo.document.scrollTop}else{var x=this.self.pageX;var y=this.self.pageY}return{"x":x,"y":y}},keyboard:function(code,func){if(!this.self){return}if((code>-1&&this.self.keyCode==code)||code==-1){func(this.self,this.self.keyCode)}}};return new inti(event)};Mo.Validate={Array:function(obj){return Object.prototype.toString.apply(obj)==="[object Array]"},Function:function(obj){return Object.prototype.toString.apply(obj)==="[object Function]"},Object:function(obj){return Object.prototype.toString.apply(obj)==="[object Object]"},Date:function(o){if(typeof o=="string"){return o.match(/^(\d{4})(\-)(\d{1,2})(\-)(\d{1,2})(\s{1})(\d{1,2})(\:)(\d{1,2})/)!=null||o.match(/^(\d{4})(\-)(\d{1,2})(\-)(\d{1,2})/)!=null}else{return Object.prototype.toString.apply(o)==="[object Date]"}},Number:function(o){return !isNaN(parseFloat(o))&&isFinite(o)},String:function(o){return typeof o==="string"},Defined:function(o){return typeof o!="undefined"},Empty:function(o){return typeof o=="undefined"||o==""},Boolean:function(o){return typeof o==="boolean"},Window:function(o){return/\[object Window\]/.test(o)},Document:function(o){return/\[object HTMLDocument\]/.test(o)},Element:function(o){return o.tagName?true:false},Chinese:function(str,all){if(all){return(str.length*2==str.replace(/[^\x00-\xff]/g,"**").length)}else{return(str.length!=str.replace(/[^\x00-\xff]/g,"**").length)}},Safe:function(str){var chkstr;var i;chkstr="'*%@#^$`~!^&*()=+{}\\|{}[];:/?<>,.";for(i=0;i<str.length;i++){if(chkstr.indexOf(str.charAt(i))!=-1){return false}}return true},Email:function(str){return/^\s*([A-Za-z0-9_-]+(\.\w+)*@(\w+\.)+\w{2,3})\s*$/.test(str)},URL:function(str){return/^http:\/\/[A-Za-z0-9]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\:+!]*([^<>])*$/.test(str)},IP:function(str){return/^[0-9.]{1,20}$/.test(str)},Password:function(str){return/^(\w){6,20}$/.test(str)},Color:function(str){return/^#(\w){6}$/.test(str)},ID:function(str){if(str.length==18){return Mo.Validate.Number(str.substring(0,17))}else{return false}},Phone:function(str){return/(?:^0{0,1}1\d{10}$)|(?:^[+](\d){1,3}1\d{10}$)|(?:^0[1-9]{1,2}\d{1}\-{0,1}[2-9]\d{6,7}$)|(?:^\d{7,8}$)|(?:^0[1-9]{1,2}\d{1}\-{0,1}[2-9]\d{6,7}[\-#]{1}\d{1,5}$)/.test(str)},Mobile:function(str){return/^[1][0-9]{10}$/.test(str)}};Mo.find=function(selector,context){context=context||document;return context.querySelectorAll(selector)};Mo.extend=function(func){for(var i in func){Mo.init.prototype[i]=func[i]}};Mo.create=function(tag,attr){var obj=document.createElement(tag);var attr=attr||{};for(var key in attr){if(/[A-Z]/.test(key)){obj[key]=attr[key]}else{obj.setAttribute(key,attr[key])}}return obj};Mo.init=function(selector,context){this.self=typeof selector=="string"?Mo.find(selector,context):[selector]};Mo.init.prototype={size:function(){return this.self.length},item:function(i,self){var size=this.size();var ele=null;if(i>=0){ele=i<=size?this.self[i]:null}else{ele=Math.abs(i)<=size?this.self[(size+i)]:null}if(self){this.self=[ele]}return self?this:ele},hide:function(speed,func){this.each(function(){this.style.display="none";typeof(func)=="function"&&func.call(this)});return this},show:function(speed,func){this.each(function(){this.style.display="";typeof(func)=="function"&&func.call(this)});return this},toggle:function(speed,func){this.each(function(){if(this.style.display=="none"||this.offsetHeight==0||this.offsetWidth==0){this.style.display=""}else{this.style.display="none"}typeof(func)=="function"&&func.call(this,this.style.display!="none")});return this},value:function(text,add){if(typeof text!="undefined"){this.each(function(){var len=this.length;switch(this.type){case"select-one":for(var i=0;i<len;i++){if(this[i].value==text){this.selectedIndex=i;break}}break;case"select-multiple":for(var i=0;i<len;i++){if(Mo.Array(text).indexOf(this[i].value)!==-1){this[i].selected=true}else{this[i].selected=false}}break;case"radio":case"checkbox":if((Mo.Validate.Array(text)&&Mo.Array(text).indexOf(this.value)!==-1)||this.value==text){this.checked=true}else{this.checked=false}break;case"text":case"hidden":case"textarea":case"password":if(add){this.value+=text}else{this.value=text}break}});return this}var val=[];this.each(function(){var len=this.length;switch(this.type){case"select-one":val.push(this.selectedIndex>-1?this[this.selectedIndex].value:null);break;case"select-multiple":for(var i=0;i<len;i++){this[i].selected&&val.push(this[i].value)}break;case"radio":case"checkbox":this.checked&&val.push(this.value);break;case"text":case"hidden":case"textarea":case"password":val.push(this.value);break}});return this.size()==1?val[0]:val},text:function(text,replace){if(typeof text!="undefined"){this.each(function(){var len=this.length;switch(this.type){case"select-one":for(var i=0;i<len;i++){if(this[i].text==text){this.selectedIndex=i;if(typeof replace!="undefined"){this[i].text=replace}break}}break;case"select-multiple":for(var i=0;i<len;i++){if(Mo.Array(text).indexOf(this[i].text)!==-1){this[i].selected=true;if(typeof replace!="undefined"){this[i].text=replace}}else{this[i].selected=false}}break}});return this}var val=[];this.each(function(){var len=this.length;switch(this.type){case"select-one":if(len){val=this[this.selectedIndex].text}break;case"select-multiple":for(var i=0;i<len;i++){if(this[i].selected){val.push(this[i].text)}}break}});return val},html:function(html,add){if(typeof html!="undefined"){this.each(function(){if(add){this.innerHTML+=html}else{this.innerHTML=html}});return this}var ele=this.self[0];return ele.innerHTML},attr:function(key){if(typeof key=="string"){if(this.size()==0){return null}var ele=this.self[0];if(/[A-Z]/.test(key)){return ele[key]}else{return ele.getAttribute(key)}}else{this.each(function(){for(var x in key){if(/[A-Z]/.test(x)){this[x]=key[x]}else{this.setAttribute(x,key[x])}}});return this}},style:function(key){if(typeof key=="string"){if(this.size()==0){return null}var ele=this.self[0];var $S=function(){var f=document.defaultView;return new Function("el","style",["style.indexOf('-')>-1 && (style=style.replace(/-(\\w)/g,function(m,a){return a.toUpperCase()}));","style=='float' && (style='",f?"cssFloat":"styleFloat","');return el.style[style] || ",f?"window.getComputedStyle(el, null)[style]":"el.currentStyle[style]"," || null;"].join(""))}();return $S(ele,key)}else{this.each(function(){for(var x in key){this.style[x]=key[x]}});return this}},position:function(json){if(this.size()==0){return null}var ele=this.self[0];var width=ele.offsetWidth;var height=ele.offsetHeight;var top=ele.offsetTop;var left=ele.offsetLeft;while(ele=ele.offsetParent){top+=ele.offsetTop;left+=ele.offsetLeft}return{"width":width,"height":height,"top":top,"left":left}},each:function(func){var size=this.size();var ele=this.self;for(var i=0;i<size;i++){if(func.call(ele[i],i)===false){break}}return this},bind:function(evt,fn){this.each(function(index){var self=this;var call=function(e){return fn.call(self,index,e)};!this.Listeners&&(this.Listeners=[]);this.Listeners.push({e:evt,fn:call});if(this.addEventListener){this.addEventListener(evt,call,false)}else{if(this.attachEvent){this.attachEvent("on"+evt,call)}else{this["on"+evt]=call}}});return this},live:function(eventType,elementQuerySelector,cb){document.addEventListener(eventType,function(event){var qs=document.querySelectorAll(elementQuerySelector);if(qs){var el=event.target,index=-1;while(el&&((index=Array.prototype.indexOf.call(qs,el))===-1)){el=el.parentElement}if(index>-1){cb.call(el,index,event)}}})},unbind:function(evt){this.each(function(index){if(this.Listeners){for(var i=0;i<this.Listeners.length;i++){if(this.removeEventListener){this.removeEventListener(this.Listeners[i].e,this.Listeners[i].fn,false)}else{if(this.detachEvent){this.detachEvent("on"+this.Listeners[i].e,this.Listeners[i].fn)}else{this["on"+evt]=null}}}delete this.Listeners}});return this},event:function(e){this.each(function(){try{if(document.createEvent){var evt=document.createEvent("MouseEvents");evt.initEvent(e,true,true);this.dispatchEvent(evt)}else{if(document.createEventObject){var evt=document.createEventObject();this.fireEvent("on"+e,evt)}else{this["on"+e]()}}}catch(e){}});return this},focus:function(func,e){this.each(function(index){this.focus();if(typeof func=="function"){return func.call(this,index,e)}});return this},blur:function(func,e){this.each(function(index){this.blur();if(typeof func=="function"){return func.call(this,index,e)}});return this},submit:function(func,e){this.each(function(index){if((typeof func=="function"&&func.call(this,index,e))||typeof func=="undefined"){this.submit()}return false});return this},reset:function(func,e){this.each(function(index){if((typeof func=="function"&&func.call(this,index,e))||typeof func=="undefined"){this.reset()}return false});return this},disabled:function(){this.each(function(){this.disabled=true});return this},enabled:function(){this.each(function(){this.disabled=false});return this},checked:function(checked){this.each(function(){if(Mo.Validate.Boolean(checked)){this.checked=checked}else{this.checked=(this.checked?false:true)}});return this},insert:function(tag,attr,self){var obj=Mo.create(tag,attr);this.each(function(){this.parentNode.insertBefore(obj,this)});if(self){this.self=[obj]}return this},create:function(tag,attr,self){var obj=Mo.create(tag,attr);this.append(obj);if(self){this.self=[obj]}return this},append:function(){for(var i=0;i<arguments.length;i++){var obj=arguments[i];this.each(function(){this.appendChild(obj)})}return this},remove:function(attr){this.each(function(){if(typeof attr=="string"){this.removeAttribute(attr)}else{this.parentNode.removeChild(this)}});return this},parent:function(level){var tmp=[];var lev=Mo.Validate.Number(level)?parseInt(level):1;this.each(function(){var ele=this;for(var i=0;i<lev;i++){ele=ele.parentNode}tmp.push(ele)});this.self=tmp;return this},prev:function(node,self){if(this.size()==0){return null}var ele=this.self[0];var obj=null;var obj=node?ele.previousElementSibling:ele.previousSibling;if(self){this.self=[obj];return this}else{return obj}},next:function(node,self){if(this.size()==0){return null}var ele=this.self[0];var obj=node?ele.nextElementSibling:ele.nextSibling;if(self){this.self=[obj];return this}else{return obj}}};win.Mo=Mo})(window,document,undefined);